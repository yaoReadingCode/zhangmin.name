title: Storm原理
tags:
  - storm
id: 995
categories:
  - MSE
date: 2013-03-13 21:52:22
---

过去的十年见证了数据处理的变革。MapReduce，hadoop及相关技术使得海量数据存储和处理成为可能。不幸的是，这些系统都不是实时处理系统。而且也没有提供实时处理的功能。没有方法能够将hadoop转变为一个实时处理系统。实时处理在根本上不同于批处理。然而，在很多领域存在实时大数据处理的需求。在整个数据处理生态系统中，怎能没有一种hadoop-style的实时处理系统呢？Storm弥补了这一遗憾。
在storm之前，你需要手动建立一系列的队列网络或worker网络进行实时处理。Worker处理队列中的消息，更新数据库，向其他队列发送消息进行进一步的处理。不幸的是，这种做法存在以下的缺陷或限制：
复杂低效的（Tedious）。花费了大量开发时间用于配置向那些队列发送消息，部署workers，部署中间队列，而实时处理的逻辑只占代码的很少一部分。
脆弱的（Brittle）。几乎没有容错机制，开发人员负责保证队列和worker运行的正确性。
扩展性。当一个worker或者队列处理消息量过大时，你需要手动分割数据并交给其他worker或队列进行处理。需要更新和配置其他worker，使它们知道从哪里获得数据，向哪里发送数据，而这又增加了出错的可能性。尽管队列或者worker可以处理海量的数据，但消息的实时处理才是真正的核心。关键问题是：如何才能不丢失数据，如何扩展到处理海量数据且易于使用和操作？
Storm解决了以上的问题。
为什么storm如此重要呢？Storm提供了一个实时处理的原子操作集合，如同MapReduce极大地简化了并行批处理。Storm的原语极大地简化了并行实时计算。Storm的关键特性如下：
广泛的应用领域。Storm可以处理消息，更新数据库，连续查询数据流，数据流处理结果的输出，并行密集查询，storm的原语集合满足了大部分使用用例。
可扩展。Storm可以处理海量的数据，要想扩展topology，只需要增加topology的并行度。Storm利用zookeeper管理集群，使得storm易于扩展。
易于管理。不同于hadoop，因为其难于管理而臭名昭著。易于管理是storm的目标。
保证数据处理，高可靠性。一个实时系统必须保证数据的实时处理。一个不可靠的系统很难有广泛的应用。Storm确保每一条消息都被及时处理。这是storm与其他系统如S4最大的不同。
容错。如果计算执行过程中有错误，如果需要，storm将重新分配任务。Storm确保计算一直运行。（除非你主动杀死它）。
多重编程语言支持。健壮，可扩展的实时处理系统不应该被限于单一平台，storm的topology和处理组件可以用任意语言定义，使得storm可以被任何人使用。

本文翻译自：https://github.com/nathanmarz/storm/wiki/Rationale